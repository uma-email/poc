<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="833" height="803"><desc>Title%20UMA%20Wide%20Ecosystem%20-%20Bob%20from%20Alice%20(pull%20data)%0A%0Aactor%20%22RqP%5CnAlice%22%20as%20Alice%20%23lightpink%0Aparticipant%20%22AS%5CnServer%22%20as%20asServer%20%23lightpink%0Aparticipant%20%22RS%5CnServer%22%20as%20rsServer%20%23lightpink%0Aparticipant%20%22RqP%5CnClient%22%20as%20rqpClient%20%23lightsteelblue%0Aparticipant%20%22Claims%5CnProvider%22%20as%20claimsProvider%20%23lightsteelblue%0Aparticipant%20%22AuthN%5CnServer%22%20as%20authServer%20%23lightsteelblue%0Aactor%20%22RO%5CnBob%22%20as%20Bob%20%23lightsteelblue%0A%0Abottomparticipants%0ArqpClient%3C-Bob%3AInitiate%20request%0ArsServer%3C-rqpClient%3A1.%20Request%20'Outgoing'%20resource%0ArsServer-%3ErqpClient%3A2.%20401%20with%20permission%20ticket%0ArqpClient-%3EauthServer%3A3.%20Get%20access_token%5Cn(RqP%20client_credentials)%0ArqpClient%3C-authServer%3A4.%20Return%20access_token%0Anote%20left%20of%20rqpClient%3ACreate%20ticket_digest%0ArqpClient-%3EclaimsProvider%3A5.%20Get%20claims_token%5Cn(access_token%2C%20Bob's%20email_address%2C%20ticket_digest)%0Aloop%20Authorization%20process%0ArqpClient%3C-claimsProvider%3A6.%20Return%20claims_token%5Cn(Bob's%20email_address%2C%20ticket_digest)%0ArqpClient-%3EasServer%3A7.%20Call%20token%20endpoint%5Cn(ticket%2C%20claims_token)%0Anote%20over%20asServer%3AEvaluate%5Cn1.%20ticket%5Cn2.%20ticket_digest%5Cn3.%20domain%20part%20of%20email_address%5Cn4.%20claims_token%20signature%0ArqpClient%3C-asServer%3A8.%20Return%20RPT%0Aend%0ArsServer%3C-rqpClient%3A9.%20Get%20data%20from%20'Outgoing'%20resource%5Cn(RPT)%0ArsServer-%3ErqpClient%3A10.%20200%20Ok</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="833" height="803"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="12pt" font-style="normal" font-weight="normal" text-decoration="normal" x="240.092232747293" y="16.96348035" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">UMA Wide Ecosystem - Bob from Alice (pull data)</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 17.203100322558594 100.48034860650002 L 17.203100322558594 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 126.11486210062502 100.48034860650002 L 126.11486210062502 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 223.71763697869142 100.48034860650002 L 223.71763697869142 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 100.48034860650002 L 425.5716822048633 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 697.6487498919727 100.48034860650002 L 697.6487498919727 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 769.2892963698047 100.48034860650002 L 769.2892963698047 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.0418433824766 100.48034860650002 L 818.0418433824766 729.2600202465002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/></g><g><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 23.649222855558595 41.3343471195 A 6.446122533 6.446122533 0 1 1 23.649219632497598 41.32790099804135 M 17.203100322558594 47.7804696525 L 17.203100322558594 61.5774336705 M 9.060629754558594 52.7564238885 L 25.345570890558594 52.7564238885 M 17.203100322558594 61.5774336705 L 9.060629754558594 74.4696787365 M 17.203100322558594 61.5774336705 L 25.345570890558594 74.4696787365" stroke-miterlimit="10" stroke-width="1.9225277730000003" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6.838232158496094" y="85.7786656365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RqP</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5.65449345" y="97.0876525365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Alice</text></g><path fill="none" stroke="none"/><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 98.15161815006252 58.7501869455 L 154.07810605118752 58.7501869455 L 154.07810605118752 100.4803486065 L 98.15161815006252 100.4803486065 L 98.15161815006252 58.7501869455 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.00722660257814" y="77.86237480650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AS</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.42186893656252" y="89.17136170650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 195.7543930281289 58.7501869455 L 251.6808809292539 58.7501869455 L 251.6808809292539 100.4803486065 L 195.7543930281289 100.4803486065 L 195.7543930281289 58.7501869455 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="216.31601802117189" y="77.86237480650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RS</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.02464381462892" y="89.17136170650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 399.67933058828515 58.7501869455 L 451.4640338214414 58.7501869455 L 451.4640338214414 100.4803486065 L 399.67933058828515 100.4803486065 L 399.67933058828515 58.7501869455 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="415.2068140408008" y="77.86237480650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RqP</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="411.94958137478517" y="89.17136170650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 665.5385180263711 58.7501869455 L 729.7589817575742 58.7501869455 L 729.7589817575742 100.4803486065 L 665.5385180263711 100.4803486065 L 665.5385180263711 58.7501869455 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="681.3677898089649" y="77.86237480650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Claims</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="677.8087688128711" y="89.17136170650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Provider</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 741.3260524192422 58.7501869455 L 797.2525403203672 58.7501869455 L 797.2525403203672 100.4803486065 L 741.3260524192422 100.4803486065 L 741.3260524192422 58.7501869455 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="754.4808552076953" y="77.86237480650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthN</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="753.5963032057422" y="89.17136170650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 824.4879659154766 41.3343471195 A 6.446122533 6.446122533 0 1 1 824.4879626924156 41.32790099804135 M 818.0418433824766 47.7804696525 L 818.0418433824766 61.5774336705 M 809.8993728144766 52.7564238885 L 826.1843139504766 52.7564238885 M 818.0418433824766 61.5774336705 L 809.8993728144766 74.4696787365 M 818.0418433824766 61.5774336705 L 826.1843139504766 74.4696787365" stroke-miterlimit="10" stroke-width="1.9225277730000003" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="810.0496558824766" y="85.7786656365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RO</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="808.5615272203672" y="97.0876525365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bob</text></g><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 23.649222855558595 762.6780765360002 A 6.446122533 6.446122533 0 1 1 23.649219632497598 762.6716304145415 M 17.203100322558594 769.1241990690002 L 17.203100322558594 782.9211630870002 M 9.060629754558594 774.1001533050002 L 25.345570890558594 774.1001533050002 M 17.203100322558594 782.9211630870002 L 9.060629754558594 795.8134081530002 M 17.203100322558594 782.9211630870002 L 25.345570890558594 795.8134081530002" stroke-miterlimit="10" stroke-width="1.9225277730000003" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6.838232158496094" y="740.5690071465002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RqP</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5.65449345" y="751.8779940465002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Alice</text></g><path fill="none" stroke="none"/><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 98.15161815006252 729.2600202465002 L 154.07810605118752 729.2600202465002 L 154.07810605118752 770.9901819075002 L 98.15161815006252 770.9901819075002 L 98.15161815006252 729.2600202465002 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.00722660257814" y="748.3722081075002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AS</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="110.42186893656252" y="759.6811950075003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="lightpink" stroke="black" paint-order="fill stroke markers" d=" M 195.7543930281289 729.2600202465002 L 251.6808809292539 729.2600202465002 L 251.6808809292539 770.9901819075002 L 195.7543930281289 770.9901819075002 L 195.7543930281289 729.2600202465002 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="216.31601802117189" y="748.3722081075002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RS</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.02464381462892" y="759.6811950075003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 399.67933058828515 729.2600202465002 L 451.4640338214414 729.2600202465002 L 451.4640338214414 770.9901819075002 L 399.67933058828515 770.9901819075002 L 399.67933058828515 729.2600202465002 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="415.2068140408008" y="748.3722081075002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RqP</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="411.94958137478517" y="759.6811950075003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 665.5385180263711 729.2600202465002 L 729.7589817575742 729.2600202465002 L 729.7589817575742 770.9901819075002 L 665.5385180263711 770.9901819075002 L 665.5385180263711 729.2600202465002 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="681.3677898089649" y="748.3722081075002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Claims</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="677.8087688128711" y="759.6811950075003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Provider</text></g><path fill="none" stroke="none"/><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 741.3260524192422 729.2600202465002 L 797.2525403203672 729.2600202465002 L 797.2525403203672 770.9901819075002 L 741.3260524192422 770.9901819075002 L 741.3260524192422 729.2600202465002 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="754.4808552076953" y="748.3722081075002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthN</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="753.5963032057422" y="759.6811950075003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><g><path fill="lightsteelblue" stroke="black" paint-order="fill stroke markers" d=" M 824.4879659154766 762.6780765360002 A 6.446122533 6.446122533 0 1 1 824.4879626924156 762.6716304145415 M 818.0418433824766 769.1241990690002 L 818.0418433824766 782.9211630870002 M 809.8993728144766 774.1001533050002 L 826.1843139504766 774.1001533050002 M 818.0418433824766 782.9211630870002 L 809.8993728144766 795.8134081530002 M 818.0418433824766 782.9211630870002 L 826.1843139504766 795.8134081530002" stroke-miterlimit="10" stroke-width="1.9225277730000003" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="810.0496558824766" y="740.5690071465002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RO</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="808.5615272203672" y="751.8779940465002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bob</text></g></g><g><g><g><rect fill="white" stroke="none" x="585.1602041873808" y="123.09832240650002" width="73.29311721257812" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="586.8565522223809" y="133.27641061650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initiate request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 818.0418433824766 137.80000537650002 L 434.8827480858633 137.80000537650002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,137.80000537650002) translate(-425.5716822048633,-137.80000537650002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.9958379548633 133.08792750150002 L 425.5716822048633 137.80000537650002 L 434.9958379548633 142.51208325150003 Z"/></g></g><g><g><rect fill="white" stroke="none" x="249.82968210121092" y="154.76348572650002" width="149.6299549811328" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="251.52603013621092" y="164.94157393650002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. Request 'Outgoing' resource</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 169.46516869650003 L 233.0287028596914 169.46516869650003" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(223.71763697869142,169.46516869650003) translate(-223.71763697869142,-169.46516869650003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 233.14179272869143 164.75309082150002 L 223.71763697869142 169.46516869650003 L 233.14179272869143 174.17724657150004 Z"/></g></g><g><g><rect fill="white" stroke="none" x="256.02154611488277" y="186.42864904650003" width="137.24622695378906" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="257.7178941498828" y="196.60673725650003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. 401 with permission ticket</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 223.71763697869142 201.13033201650003 L 416.2606163238633 201.13033201650003" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,201.13033201650003) translate(-425.5716822048633,-201.13033201650003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 416.1475264548633 196.41825414150003 L 425.5716822048633 201.13033201650003 L 416.1475264548633 205.84240989150004 Z"/></g></g><g><g><rect fill="white" stroke="none" x="539.172243974502" y="218.0938123665" width="100.53731887273437" height="14.70168297"/></g><g><rect fill="white" stroke="none" x="539.172243974502" y="229.4027992665" width="116.51649062566406" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.868592009502" y="228.2719005765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. Get access_token</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.868592009502" y="239.5808874765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(RqP client_credentials)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 244.10448223650002 L 759.9782304888047 244.10448223650002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(769.2892963698047,244.10448223650002) translate(-769.2892963698047,-244.10448223650002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 759.8651406198047 239.3924043615 L 769.2892963698047 244.10448223650002 L 759.8651406198047 248.81656011150002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="539.7576092699121" y="261.0679625865" width="115.34576003484375" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="541.4539573049121" y="271.2460507965" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. Return access_token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 769.2892963698047 275.7696455565 L 434.8827480858633 275.7696455565" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,275.7696455565) translate(-425.5716822048633,-275.7696455565)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.9958379548633 271.0575676815 L 425.5716822048633 275.7696455565 L 434.9958379548633 280.4817234315 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 305.7384608415 L 419.9171887548633 305.7384608415 M 294.07325346220705 292.7331259065 L 409.73910054486333 292.7331259065 L 419.91718875486333 302.9112141165 L 419.91718875486333 318.7437957765 L 294.07325346220705 318.7437957765 L 294.07325346220705 292.7331259065 M 409.73910054486333 292.7331259065 L 409.73910054486333 302.9112141165 L 419.91718875486333 302.9112141165" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="309.905835122207" y="308.5657075665" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create ticket_digest</text></g><g><g><rect fill="white" stroke="none" x="438.9539833698633" y="335.7072761265" width="97.56626479558594" height="14.70168297"/></g><g><rect fill="white" stroke="none" x="438.9539833698633" y="347.0162630265" width="245.31246535710937" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="440.6503314048633" y="345.8853643365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5. Get claims_token</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="440.6503314048633" y="357.1943512365" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(access_token, Bob's email_address, ticket_digest)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 361.7179459965 L 688.3376840109727 361.7179459965" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(697.6487498919727,361.7179459965) translate(-697.6487498919727,-361.7179459965)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 688.2245941419727 357.00586812150004 L 697.6487498919727 361.7179459965 L 688.2245941419727 366.4300238715 Z"/></g></g><g><g><rect fill="white" stroke="none" x="474.4947624836328" y="409.2156909765" width="112.37470595769531" height="14.70168297"/></g><g><rect fill="white" stroke="none" x="474.4947624836328" y="420.5246778765" width="174.2309071295703" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="476.19111051863285" y="419.3937791865" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6. Return claims_token</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="476.19111051863285" y="430.7027660865" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(Bob's email_address, ticket_digest)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 697.6487498919727 435.22636084650003 L 434.8827480858633 435.22636084650003" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,435.22636084650003) translate(-425.5716822048633,-435.22636084650003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.9958379548633 430.51428297150005 L 425.5716822048633 435.22636084650003 L 434.9958379548633 439.9384387215 Z"/></g></g><g><g><rect fill="white" stroke="none" x="222.60616026276367" y="452.1898411965" width="106.47422377996094" height="14.70168297"/></g><g><rect fill="white" stroke="none" x="222.60616026276367" y="463.4988280965" width="103.47195022039062" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="224.30250829776367" y="462.3679294065" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7. Call token endpoint</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="224.30250829776367" y="473.6769163065" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(ticket, claims_token)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 478.20051106650004 L 135.42592798162502 478.20051106650004" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(126.11486210062502,478.20051106650004) translate(-126.11486210062502,-478.20051106650004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 135.53901785062502 473.48843319150006 L 126.11486210062502 478.20051106650004 L 135.53901785062502 482.9125889415 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 34.16658067255861 495.1639914165001 L 207.88505531869143 495.1639914165001 L 218.06314352869143 505.3420796265001 L 218.06314352869143 566.4106088865001 L 34.16658067255861 566.4106088865001 L 34.16658067255861 495.1639914165001 M 207.88505531869143 495.1639914165001 L 207.88505531869143 505.3420796265001 L 218.06314352869143 505.3420796265001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="49.99916233255861" y="510.99657307650006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Evaluate</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="49.99916233255861" y="522.3055599765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. ticket</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="49.99916233255861" y="533.6145468765001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. ticket_digest</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="49.99916233255861" y="544.9235337765001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. domain part of email_address</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="49.99916233255861" y="556.2325206765001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. claims_token signature</text></g><g><g><rect fill="white" stroke="none" x="240.09427366608398" y="583.3740892365001" width="71.49799697332031" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="241.79062170108398" y="593.5521774465002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8. Return RPT</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 126.11486210062502 598.0757722065001 L 416.2606163238633 598.0757722065001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,598.0757722065001) translate(-425.5716822048633,-598.0757722065001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 416.1475264548633 593.3636943315001 L 425.5716822048633 598.0757722065001 L 416.1475264548633 602.7878500815001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="237.0999381436914" y="632.0027329065001" width="175.08944289617187" height="14.70168297"/></g><g><rect fill="white" stroke="none" x="237.0999381436914" y="643.3117198065002" width="31.80242507390625" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="238.7962861786914" y="642.1808211165002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">9. Get data from 'Outgoing' resource</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="238.7962861786914" y="653.4898080165002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(RPT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.5716822048633 658.0134027765001 L 233.0287028596914 658.0134027765001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(223.71763697869142,658.0134027765001) translate(-223.71763697869142,-658.0134027765001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 233.14179272869143 653.3013249015002 L 223.71763697869142 658.0134027765001 L 233.14179272869143 662.7254806515001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="296.88264535804683" y="674.9768831265002" width="55.52402846746094" height="14.70168297"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="298.57899339304686" y="685.1549713365002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">10. 200 Ok</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 223.71763697869142 689.6785660965002 L 416.2606163238633 689.6785660965002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(425.5716822048633,689.6785660965002) translate(-425.5716822048633,-689.6785660965002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 416.1475264548633 684.9664882215002 L 425.5716822048633 689.6785660965002 L 416.1475264548633 694.3906439715001 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 28.512087222558606 378.6814263465 L 737.2302040419727 378.6814263465 L 737.2302040419727 615.0392525565002 L 28.512087222558606 615.0392525565002 L 28.512087222558606 378.6814263465 Z" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 28.512087222558606 378.6814263465 L 28.512087222558606 392.2522106265 L 69.1010540645508 392.2522106265 L 75.8864462045508 385.4668184865 L 75.8864462045508 378.6814263465 L 28.512087222558606 378.6814263465" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="39.821074122558606" y="387.72861586650004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="87.1954331045508" y="387.72861586650004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Authorization process]</text></g></g></g></svg>